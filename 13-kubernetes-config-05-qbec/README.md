# Домашнее задание к занятию "13.5 поддержка нескольких окружений на примере Qbec"

## Модуль 13. Конфигурация Kubernetes

### Студент: Иван Жиляев

>Приложение обычно существует в нескольких окружениях. Для удобства работы следует использовать соответствующие инструменты, например, Qbec.

## Задание 1: подготовить приложение для работы через qbec
>Приложение следует упаковать в qbec. Окружения должно быть 2: stage и production. 
>
>Требования:
>* stage окружение должно поднимать каждый компонент приложения в одном экземпляре;
>* production окружение — каждый компонент в трёх экземплярах;
>* для production окружения нужно добавить endpoint на внешний адрес.

Создадим основу будущей конфигурации:

```
qbec init netology-app --with-example
```

В конфигурации `base` будем писать основу шаблонов, а в конфигурациях `stage` и `production` лишь кастомизируем нужные параметры. Конфиг `default` не потребуется.

Для более наглядной структуры файлов-шаблонов компонентов я объединил манифесты деплоймента и соответствующей службы для всех трёх составляющих: бэк, фронт и БД. Отдельно приведены компоненты для ингресса и для создания эндпоинта на внешний ресурс.

Финальная структура для qbec расположена в каталоге [netology-app](netology-app).

Запустим окружения командами:

```
qbec apply stage
qbec apply production
```

Объекты были созданы как и ожидалось.
